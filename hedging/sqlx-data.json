{
  "db": "PostgreSQL",
  "081e7d0e1d6434b8081b36078bb6dc109523c510f708c33331cee51dab3b49c6": {
    "describe": {
      "columns": [
        {
          "name": "client_transfer_id",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "SELECT client_transfer_id FROM okex_transfers WHERE complete = false AND lost = false AND transfer_type = $1"
  },
  "0eb7034d6a8048df9d45a2950feb3031fbc4024b17547e89f3370fa9987f25a5": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "UPDATE okex_orders SET lost = true WHERE client_order_id = $1"
  },
  "0fdfa3de8a33878aecf60e29e1fd6ed3eeff1bd92e3eca50d51e221350518745": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Numeric",
          "Numeric",
          "Varchar",
          "Bool",
          "Text"
        ]
      }
    },
    "query": "UPDATE okex_orders SET lost = false, order_id = $1, avg_price = $2, fee = $3, state = $4, complete = $5 WHERE client_order_id = $6"
  },
  "1bb77be94fd2f2ad70835e03cc4e69762b0992ed9864440c574c114050eb6d9b": {
    "describe": {
      "columns": [
        {
          "name": "client_transfer_id",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT client_transfer_id FROM okex_transfers WHERE (action != 'deposit' OR transfer_type != 'external') AND complete = false"
  },
  "26fa2863be469d0f97b42390da4c73344a7d5152e4b5704574dc2f83756a94c6": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Text"
        ]
      }
    },
    "query": "UPDATE okex_transfers SET lost = true WHERE client_transfer_id = $1"
  },
  "4b0b1c2376210b3e700e4faa13a3fb6ee3505989f7a74cad2b47b2441ca94933": {
    "describe": {
      "columns": [
        {
          "name": "client_order_id",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT client_order_id FROM okex_orders WHERE complete = false"
  },
  "774f260ef3109c246642f50d09384471a5bb9a7c59203fb5c1d7d9eca1a7f5dc": {
    "describe": {
      "columns": [
        {
          "name": "amount",
          "ordinal": 0,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": [
          "Numeric",
          "Uuid"
        ]
      }
    },
    "query": "INSERT INTO synth_usd_liability (amount, correlation_id) \n  SELECT $1, $2\n  WHERE NOT EXISTS (\n    SELECT FROM (\n      SELECT amount FROM synth_usd_liability ORDER BY idx DESC LIMIT 1\n    ) last_row WHERE amount = $1\n  )\nRETURNING amount;\n"
  },
  "7bf9f32637678c7ff4d18bf748bad288aaa36e1c6f27a29e4a631b15f2f59e26": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Varchar",
          "Varchar",
          "Varchar",
          "Numeric",
          "Numeric",
          "Varchar",
          "Varchar",
          "Numeric",
          "Numeric",
          "Numeric",
          "Numeric",
          "Numeric",
          "Numeric",
          "Varchar"
        ]
      }
    },
    "query": "INSERT INTO okex_transfers (\n                client_transfer_id, \n                correlation_id, \n                action, \n                transfer_type, \n                currency,\n                amount,\n                fee,\n                transfer_from,\n                transfer_to,\n                target_usd_exposure,\n                current_usd_exposure,\n                trading_btc_used_balance,\n                trading_btc_total_balance,\n                current_usd_btc_price,\n                funding_btc_total_balance,\n                state\n            ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16)"
  },
  "96f7ee6322ab9ae4a1a69d230e50dcbec45afacfbbf811d90078643fa67cd772": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Varchar",
          "Text"
        ]
      }
    },
    "query": "UPDATE okex_transfers SET lost = false, transfer_id = $1, state = $2 WHERE client_transfer_id = $3"
  },
  "a3364ac9e48a6dc9b7cf1b02d70b454ccc1e20bc1528ed1896e8411b30ae9d00": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": [
          "Varchar",
          "Uuid",
          "Varchar",
          "Varchar",
          "Numeric",
          "Varchar",
          "Numeric",
          "Numeric",
          "Numeric"
        ]
      }
    },
    "query": "INSERT INTO okex_orders (\n              client_order_id, correlation_id, instrument,\n              action, size, unit, size_usd_value, target_usd_value,\n              position_usd_value_before_order\n            ) VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9)"
  },
  "a96d3a4a4c19ae27d60f46d99e12dcc09ea2440aaae906c0e159bed1b8b71ad3": {
    "describe": {
      "columns": [
        {
          "name": "client_order_id",
          "ordinal": 0,
          "type_info": "Varchar"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT client_order_id FROM okex_orders WHERE complete = false AND lost = false"
  },
  "a9a7c094798a01d2dd89cfc90990d68c70e07d77c7325578f66e596643f67b59": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "UPDATE okex_transfers SET state = 'deleted' WHERE lost = true AND complete = false AND created_at < now() - interval '1 day'"
  },
  "ab6024a26126aca1567ae727ccd7edc575cb9657175dbff7babc66e45169497e": {
    "describe": {
      "columns": [
        {
          "name": "client_transfer_id",
          "ordinal": 0,
          "type_info": "Varchar"
        },
        {
          "name": "transfer_to",
          "ordinal": 1,
          "type_info": "Varchar"
        },
        {
          "name": "amount",
          "ordinal": 2,
          "type_info": "Numeric"
        },
        {
          "name": "created_at",
          "ordinal": 3,
          "type_info": "Timestamptz"
        }
      ],
      "nullable": [
        false,
        true,
        false,
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT client_transfer_id, transfer_to, amount, created_at FROM okex_transfers WHERE action = 'deposit' AND transfer_type = 'external' AND complete = false"
  },
  "d1a41ae07e59886a30a1750d7e8dd8f24c0652c267b25d8fd5cf3698dc8ca699": {
    "describe": {
      "columns": [
        {
          "name": "amount",
          "ordinal": 0,
          "type_info": "Numeric"
        }
      ],
      "nullable": [
        false
      ],
      "parameters": {
        "Left": []
      }
    },
    "query": "SELECT amount FROM synth_usd_liability ORDER BY idx DESC LIMIT 1"
  },
  "dc6913735a5493821cc85a6a069277431024ccdffbc76d09f11629e818f54df2": {
    "describe": {
      "columns": [],
      "nullable": [],
      "parameters": {
        "Left": []
      }
    },
    "query": "DELETE FROM okex_orders WHERE lost = true AND complete = false AND created_at < now() - interval '1 day'"
  }
}